import 'str';
import 'cmd';

fun main() {
    var env = *env();
    #var args = *cmd::args(env.get_args().skip(1)); # skip file name (may be some OS where that won't work, fix later if necessary)
    #var args = *cmd::args(["-hello"]);
    #var args = *cmd::args(["-greeting", "hello world", "-bye", "ciao world and so forth"]);
    var args = *cmd::args(["greetings", "hello", "-bye", "ciao", "world", "and", "so", "forth"]);
    var parsed = args.parse();
    println(parsed.is_defined("-bye"));
    println(parsed.get("-bye"));
    println(parsed.is_defined("-by"));
    
    if(parsed.is_defined("-bye")) {
        println("-bye was defined, exiting script");
        ret;
    }
    
    #println("!" + str::trim(" hello world ") + "!");
    
    var array = ["greetings", "hello", "-bye", "ciao", "world", "and", "so", "forth"];
    
    for ~(array) {
        println(it);
    }
    
#    for(args.parse()) {
#        println($'"{it.name}" with value "{it.value}"');
#    }
#    println(args.parse());
}